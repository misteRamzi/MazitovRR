import streamlit as st
import reveal_slides as rs

def presentation_page():
    st.title("Презентация проекта: Бинарная классификация для предиктивного обслуживания оборудования")

    # Содержание презентации в формате Markdown
    presentation_markdown = """
    # Прогнозирование отказов оборудования
    ---
    ## Введение
    - **Задача:** Разработка модели машинного обучения для предсказания отказов оборудования.
    - **Цель:** Предсказать, произойдет ли отказ оборудования (Target=1) или нет (Target=0).
    - **Актуальность:** Предиктивное обслуживание снижает затраты на ремонт и увеличивает эффективность производства.

    ---
    ## Описание датасета
    - **Название:** AI4I 2020 Predictive Maintenance Dataset.
    - **Ссылка:** [Датасет на UCI ML Repository](https://archive.ics.uci.edu/dataset/601/predictive+maintenance+dataset ).
    - **Особенности:**
      - 10,000 записей.
      - 14 признаков, включая температуру, скорость вращения, крутящий момент и износ инструмента.
      - Целевая переменная: `Machine failure` (1 — отказ, 0 — норма).

    ---
    ## Этапы работы
    1. **Загрузка данных:**
       - Данные загружаются через интерфейс Streamlit или напрямую из CSV-файла.
    2. **Предобработка данных:**
       - Удаление ненужных столбцов (например, уникальные идентификаторы).
       - Преобразование категориальных переменных в числовые.
       - Масштабирование числовых признаков.
    3. **Обучение модели:**
       - Проверены модели: Logistic Regression, Random Forest, XGBoost.
    4. **Оценка модели:**
       - Использованы метрики: Accuracy, Confusion Matrix, ROC-AUC.
    5. **Визуализация результатов:**
       - Графики: Confusion Matrix, ROC-кривая.

    ---
    ## Streamlit-приложение
    - **Основная страница:**
      - Загрузка данных.
      - Обучение модели и оценка её качества.
      - Предсказания на новых данных.
    - **Страница с презентацией:**
      - Подробное описание проекта.
      - Интерактивные слайды.

    ---
    ## Результаты
    - **Лучшая модель:** Random Forest.
    - **Метрики:**
      - Accuracy: 95%.
      - ROC-AUC: 98%.
    - **Вывод:** Модель успешно предсказывает отказы оборудования.

    ---
    ## Заключение
    - **Итоги:**
      - Создана модель для предсказания отказов оборудования.
      - Разработано Streamlit-приложение для анализа данных и предсказаний.
    - **Возможные улучшения:**
      - Добавление дополнительных моделей (например, Neural Networks).
      - Улучшение предобработки данных (например, Feature Engineering).
      - Интеграция с реальными системами мониторинга оборудования.

    """

    # Настройки презентации
    with st.sidebar:
        st.header("Настройки презентации")
        theme = st.selectbox("Выберите тему", ["black", "white", "league", "beige", "sky", "night", "serif", "simple", "solarized"])
        height = st.number_input("Высота слайдов", value=500)
        transition = st.selectbox("Переход между слайдами", ["slide", "convex", "concave", "zoom", "none"])
        plugins = st.multiselect("Плагины", ["highlight", "katex", "mathjax2", "mathjax3", "notes", "search", "zoom"], [])

    # Отображение презентации
    rs.slides(
        presentation_markdown,
        height=height,
        theme=theme,
        config={"transition": transition, "plugins": plugins},
        markdown_props={"data-separator-vertical": "^--$"},
    )